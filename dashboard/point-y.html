<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta lang="ja" />
    <title>やさしい - 得点の切り替え</title>
</head>
<body>
    <p>更新ボタンを押すと更新されます</p>
    <form onsubmit="return setPoint();">
        得点：<input type = "text" name = "total" />
        リト：<input type = "text" name = "retry" />
        <input type="submit" value="更新" />
    </form>
</body>
<script type="text/javascript">
    const totalInput = document.getElementsByName("total")[0];
    const retryInput = document.getElementsByName("retry")[0];
    nodecg.Replicant("pointY").on("change", (newVal, oldVal) => {
        totalInput.value = newVal.total;
        retryInput.value = newVal.retry;
    });

    function setPoint() {
        nodecg.Replicant("pointY").value = {
            total: totalInput.value,
            retry: retryInput.value
        }
    }
</script>
</html>
