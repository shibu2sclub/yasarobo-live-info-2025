<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta lang="ja" />
    <title>チャレンジャーズ - 得点の切り替え</title>
</head>
<body>
    <p>更新ボタンを押すと更新されます</p>
    <form onsubmit="return setPoint();">
        個数で答えること<br>
        赤色：<input type = "text" name = "red" />
        黄色：<input type = "text" name = "yellow" />
        青色：<input type = "text" name = "blue" />
        テニ：<input type = "text" name = "tennis" />
        色違：<input type = "text" name = "wrongColor" />
        リト<input type = "text" name = "retry" />
        <input type="submit" value="更新" />
    </form>
</body>
<script type="text/javascript">
    const redInput = document.getElementsByName("red")[0];
    const yellowInput = document.getElementsByName("yellow")[0];
    const blueInput = document.getElementsByName("blue")[0];
    const tennisInput = document.getElementsByName("tennis")[0];
    const wrongColorInput = document.getElementsByName("wrongColor")[0];
    const retryInput = document.getElementsByName("retry")[0];

    nodecg.Replicant("pointC").on("change", (newVal, oldVal) => {
        redInput.value = newVal.red;
        yellowInput.value = newVal.yellow;
        blueInput.value = newVal.blue;
        tennisInput.value = newVal.tennis;
        wrongColorInput.value = newVal.wrongColor;
        retryInput.value = newVal.retry;
    });

    function setPoint() {
        nodecg.Replicant("pointC").value = {
            red: redInput.value,
            yellow: yellowInput.value,
            blue: blueInput.value,
            tennis: tennisInput.value,
            wrongColor: wrongColorInput.value,
            retry: retryInput.value
        }
    }
</script>
</html>
