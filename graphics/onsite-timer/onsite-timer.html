<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width = device-width, initial-scale = 1, shrink-to-fit = no">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;300;400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="css/style.css?date=2023062102">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">

    <title>InRoF Timer</title>
</head>

<body>
    <div class="body-container">
        <p class="bar">
            <img src="img/bar.png" width="100%" height="60px">
        </p>
        <p class="timer">
        <div class="countdown_box">
            <div class="countdown_txt">
                <span class="countdown countdown_min" id="countdown_minSec"><span id = "countdown_min">!0</span>:<span id = "countdown_sec">00</span></span>
                <span class="countdown countdown_msec" id="countdown_msec"> 00</span>
            </div>
            <div class="countdown_bg countdown_txt">
                <span class="countdown countdown_min">18:88</span><span class="countdown countdown_msec"> 88</span>
            </div>
            <div class="retry-box">
                <span class="retry">Retry:<span id="retry_no">0</span></span>
            </div>
        </div>
        </p>
        <p class="bar">
            <img src="img/bar.png" width="100%" height="60px">
        </p>
        <p class="status" id="countdown_status">------</p>
    </div>
</body>
<script type="text/javascript">
    function check_timediffer(pastms){
        let newdate = new Date();
        nowms = newdate.getMilliseconds();
        timediffer = nowms - pastms;
        if (timediffer < 0)
        {
            timediffer += 1000;
        }
        return [timediffer, nowms];
    }

    function rewrite_timer(){
        const minElement = document.getElementById("countdown_min");
        const secElement = document.getElementById("countdown_sec");
        const msecElement = document.getElementById("countdown_msec");

        if (myMin>=10) {    //分2ケタ
            minElement.innerText = myMin;
        }
        else {  //分1ケタ
            minElement.innerText = "!" + myMin;
        }

        if (mySec>=10) {    //秒数2ケタ
            secElement.innerText = mySec;
        }
        else {  //秒数1ケタ
            secElement.innerText = "0" + mySec;
        }

        if (mytmSec>=10) {  //1/100秒2ケタ
            msecElement.innerText = " " + mytmSec;
        }
        else {  //1/100秒1ケタ
            msecElement.innerText = " 0" + mytmSec;
        }
    }

    function rewrite_status(status){	//計測中の状況表示
        const statusElement = document.getElementById("countdown_status");

        switch(status) {
            case 0:
                statusElement.innerText = "ロボット準備待ち";
                break;
            case 1:
                statusElement.innerText = "ロボット準備";
                break;
            case 2:
                statusElement.innerText = "競技開始待機";
                break;
            case 3:
                statusElement.innerText = "競　技　中";
                break;
            case 4:
                statusElement.innerText = "計測停止中";
                break;
            case 5:
                statusElement.innerText = "競　技　終　了";
                break;
            default:
                statusElement.innerText = "------";
        }
    }
</script>
</html>