<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta lang="ja" />
    <title>やさしい - 配信</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <link href = "common.css" rel = "stylesheet" type = "text/css" />
    <link href = "live-common.css" rel = "stylesheet" type = "text/css" />
</head>
<body>
    <div id = "live-info">
        <div id = "total">
            <div id = "total-title">TOTAL</div>
            <div id = "total-value" class = "slide-box"></div>
            <div id = "total-bar"></div>
            <div id = "total-perfect">99</div>
        </div>
        <div id = "detail">
            <p>やさしいルールでは速報を行いません</p>
        </div>
        <div id = "retry">
            <div id = "retry-title">RETRY</div>
            <div id = "retry-value" class = "slide-box"></div>
        </div>
    </div>
</body>
<script src = "newDom.js"></script>
<script type="text/javascript">
    nodecg.Replicant("pointY").on("change", (newVal, oldVal) => {
        const newTotalDiv = document.createElement("div");
        const newRetryDiv = document.createElement("div");
        if (oldVal == undefined || newVal.total != oldVal.total) {
            newTotalDiv.textContent = newVal.total;
            showNextDom(document.getElementById("total-value"), newTotalDiv);
        }
        if (oldVal == undefined || newVal.retry != oldVal.retry) {
            newRetryDiv.textContent = newVal.retry;
            showNextDom(document.getElementById("retry-value"), newRetryDiv);
        }
    });
</script>
</html>
